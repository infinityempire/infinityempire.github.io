<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×§×˜×œ×•×’ ××•×¦×¨×™× | Infinity Empire Store</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        .catalog-header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            padding: 2rem 0;
            text-align: center;
        }
        
        .catalog-title {
            color: #ffd700;
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .search-filters {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .search-bar {
            width: 100%;
            max-width: 500px;
            padding: 1rem;
            border: 2px solid #6c5ce7;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }
        
        .search-bar::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .filters {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 1rem;
        }
        
        .filter-btn {
            padding: 0.5rem 1rem;
            border: 2px solid #6c5ce7;
            background: transparent;
            color: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-btn.active,
        .filter-btn:hover {
            background: #6c5ce7;
            color: white;
        }
        
        .sort-options {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }
        
        .sort-select {
            padding: 0.5rem 1rem;
            border: 2px solid #ffd700;
            border-radius: 10px;
            background: rgba(255, 215, 0, 0.1);
            color: white;
        }
        
        .products-count {
            text-align: center;
            color: #ffd700;
            margin: 1rem 0;
            font-size: 1.1rem;
        }
        
        .no-results {
            text-align: center;
            color: white;
            font-size: 1.2rem;
            margin: 3rem 0;
        }
        
        .bundle-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #1a1a2e;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .ultimate-bundle .bundle-badge {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <div class="logo">
                <span class="infinity-symbol">âˆ</span>
                <span class="brand-name">Infinity Empire</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">×‘×™×ª</a></li>
                <li><a href="index.html#products">××•×¦×¨×™×</a></li>
                <li><a href="catalog.html">×§×˜×œ×•×’</a></li>
                <li><a href="index.html#contact">×¦×•×¨ ×§×©×¨</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="catalog-header">
            <div class="container">
                <h1 class="catalog-title">×§×˜×œ×•×’ ××•×¦×¨×™×</h1>
                <p>×’×œ×” ××ª ×›×œ ×”××•×¦×¨×™× ×”×“×™×’×™×˜×œ×™×™× ×©×œ× ×•</p>
            </div>
        </section>

        <section class="catalog-section">
            <div class="container">
                <div class="search-filters">
                    <input type="text" id="searchInput" class="search-bar" placeholder="×—×¤×© ××•×¦×¨×™×...">
                    
                    <div class="filters">
                        <button class="filter-btn active" data-category="all">×”×›×œ</button>
                        <button class="filter-btn" data-category="ai">×‘×™× ×” ××œ××›×•×ª×™×ª</button>
                        <button class="filter-btn" data-category="lotto">×œ×•×˜×•</button>
                        <button class="filter-btn" data-category="productivity">×¤×¨×•×“×•×§×˜×™×‘×™×•×ª</button>
                        <button class="filter-btn" data-category="business">×¢×¡×§×™×</button>
                        <button class="filter-btn" data-category="design">×¢×™×¦×•×‘</button>
                        <button class="filter-btn" data-category="bundle">×—×‘×™×œ×•×ª</button>
                    </div>
                    
                    <div class="sort-options">
                        <select id="sortSelect" class="sort-select">
                            <option value="name">××™×•×Ÿ ×œ×¤×™ ×©×</option>
                            <option value="price-low">××—×™×¨: × ××•×š ×œ×’×‘×•×”</option>
                            <option value="price-high">××—×™×¨: ×’×‘×•×” ×œ× ××•×š</option>
                        </select>
                    </div>
                </div>

                <div class="products-count">
                    <span id="productsCount">14</span> ××•×¦×¨×™× × ××¦××•
                </div>

                <div id="productsGrid" class="products-grid">
                    <!-- ×”××•×¦×¨×™× ×™×˜×¢× ×• ×›××Ÿ ×“×™× ××™×ª -->
                </div>

                <div id="noResults" class="no-results" style="display: none;">
                    ×œ× × ××¦××• ××•×¦×¨×™× ×”×ª×•×××™× ×œ×—×™×¤×•×© ×©×œ×š
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Infinity Empire Store. ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª.</p>
        </div>
    </footer>

    <script>
        const API = 'https://8xhpiqcq8kyy.manus.space';
        
        // × ×ª×•× ×™ ×”××•×¦×¨×™×
        const products = [
            {
                id: 'ai-guide',
                name: '××“×¨×™×š AI ××§×™×£',
                description: '××“×¨×™×š ××§×™×£ ×œ×‘×™× ×” ××œ××›×•×ª×™×ª ×¢× ×›×œ×™× ××¢×©×™×™× ×•××¡×˜×¨×˜×’×™×•×ª ××ª×§×“××•×ª',
                price: 49.90,
                category: 'ai',
                icon: 'ğŸ¤–'
            },
            {
                id: 'lotto-guide',
                name: '××“×¨×™×š ×œ×•×˜×• ××ª×§×“×',
                description: '××¡×˜×¨×˜×’×™×•×ª ××ª×§×“××•×ª ×•×©×™×˜×•×ª ××•×›×—×•×ª ×œ×©×™×¤×•×¨ ×”×¡×™×›×•×™×™× ×‘×œ×•×˜×•',
                price: 39.90,
                category: 'lotto',
                icon: 'ğŸ°'
            },
            {
                id: 'time-management',
                name: '× ×™×”×•×œ ×–××Ÿ ×™×¢×™×œ',
                description: '×˜×›× ×™×§×•×ª ××•×›×—×•×ª ×œ× ×™×”×•×œ ×–××Ÿ ×•×©×™×¤×•×¨ ×¤×¨×•×“×•×§×˜×™×‘×™×•×ª ××™×©×™×ª',
                price: 9.90,
                category: 'productivity',
                icon: 'â°'
            },
            {
                id: 'chatbot-quickstart',
                name: '×¦\'××˜×‘×•×˜ ××”×™×¨',
                description: '××“×¨×™×š ××”×™×¨ ×œ×‘× ×™×™×ª ×¦\'××˜×‘×•×˜ ×—×›× ×¢× AI ××ª×§×“×',
                price: 59.90,
                category: 'ai',
                icon: 'ğŸ’¬'
            },
            {
                id: 'smallbiz-automations',
                name: '××•×˜×•××¦×™×•×ª ×¢×¡×§ ×§×˜×Ÿ',
                description: '×›×œ×™× ×•×©×™×˜×•×ª ×œ××•×˜×•××¦×™×” ×©×œ ×ª×”×œ×™×›×™× ×‘×¢×¡×§ ×§×˜×Ÿ',
                price: 79.90,
                category: 'business',
                icon: 'ğŸ¢'
            },
            {
                id: 'winning-prompts-50',
                name: '50 ×¤×¨×•××¤×˜×™× ×× ×¦×—×™×',
                description: '××•×¡×£ ×©×œ 50 ×¤×¨×•××¤×˜×™× ××•×›×—×™× ×œAI ×©×™×—×¡×›×• ×œ×š ×–××Ÿ ×•×™×¢×™×œ×• ×ª×•×¦××•×ª',
                price: 29.90,
                category: 'ai',
                icon: 'ğŸ¯'
            },
            {
                id: 'lotto-psychology',
                name: '×¤×¡×™×›×•×œ×•×’×™×™×ª ×œ×•×˜×•',
                description: '×”×‘× ×ª ×”×¤×¡×™×›×•×œ×•×’×™×” ×××—×•×¨×™ ××©×—×§×™ ×”××–×œ ×•××¡×˜×¨×˜×’×™×•×ª ×× ×˜×œ×™×•×ª',
                price: 39.90,
                category: 'lotto',
                icon: 'ğŸ§ '
            },
            {
                id: 'lotto-excel',
                name: '××§×¡×œ ×œ×•×˜×• ××ª×§×“×',
                description: '×ª×‘× ×™×•×ª ××§×¡×œ ××ª×§×“××•×ª ×œ× ×™×ª×•×— ×•×—×™×–×•×™ ×ª×•×¦××•×ª ×œ×•×˜×•',
                price: 19.90,
                category: 'lotto',
                icon: 'ğŸ“Š'
            },
            {
                id: 'digital-focus',
                name: '×¤×•×§×•×¡ ×“×™×’×™×˜×œ×™',
                description: '×˜×›× ×™×§×•×ª ×œ×©×™×¤×•×¨ ×”×¨×™×›×•×– ×•×”×¤×•×§×•×¡ ×‘×¢×™×“×Ÿ ×”×“×™×’×™×˜×œ×™',
                price: 29.90,
                category: 'productivity',
                icon: 'ğŸ¯'
            },
            {
                id: 'posters-pack-5',
                name: '×—×‘×™×œ×ª ×¤×•×¡×˜×¨×™× (5)',
                description: '5 ×¤×•×¡×˜×¨×™× ×“×™×’×™×˜×œ×™×™× ××¢×•×¦×‘×™× ×œ×”×©×¨××” ×•××•×˜×™×‘×¦×™×” ×™×•××™×ª',
                price: 129.90,
                category: 'design',
                icon: 'ğŸ¨'
            },
            {
                id: 'productivity-bundle',
                name: '×—×‘×™×œ×ª ×¤×¨×•×“×•×§×˜×™×‘×™×•×ª',
                description: '× ×™×”×•×œ ×–××Ÿ + ×¤×•×§×•×¡ ×“×™×’×™×˜×œ×™ + 50 ×¤×¨×•××¤×˜×™× - ×—×¡×›×•×Ÿ ×©×œ 30%',
                price: 89.90,
                category: 'bundle',
                icon: 'ğŸ“¦',
                isBundle: true
            },
            {
                id: 'ai-mastery-bundle',
                name: '×—×‘×™×œ×ª ×©×œ×™×˜×” ×‘-AI',
                description: '××“×¨×™×š AI + ×¦\'××˜×‘×•×˜ + 50 ×¤×¨×•××¤×˜×™× - ×”×¤×•×š ×œ××•××—×” AI',
                price: 109.90,
                category: 'bundle',
                icon: 'ğŸ¤–',
                isBundle: true
            },
            {
                id: 'lotto-perfect-bundle',
                name: '×—×‘×™×œ×ª ×œ×•×˜×• ××•×©×œ××ª',
                description: '×›×œ ××“×¨×™×›×™ ×”×œ×•×˜×• + ××§×¡×œ + ×¤×¡×™×›×•×œ×•×’×™×” - ×”×›×œ ×‘××§×•× ××—×“',
                price: 79.90,
                category: 'bundle',
                icon: 'ğŸ°',
                isBundle: true
            },
            {
                id: 'ultimate-bundle',
                name: '×”×—×‘×™×œ×” ×”××•×œ×˜×™××˜×™×‘×™×ª',
                description: '×›×œ ×”××•×¦×¨×™× ×©×œ× ×• ×‘××—×™×¨ ××™×•×—×“ - ×—×¡×›×•×Ÿ ×©×œ 50%!',
                price: 299.90,
                category: 'bundle',
                icon: 'ğŸ‘‘',
                isBundle: true,
                isUltimate: true
            }
        ];

        let filteredProducts = [...products];

        function getUTM() {
            const p = new URLSearchParams(location.search);
            return {
                utm_source: p.get('utm_source') || '',
                utm_medium: p.get('utm_medium') || '',
                utm_campaign: p.get('utm_campaign') || ''
            };
        }
        
        async function buyProduct(productId) {
            try {
                const utm = getUTM();
                const res = await fetch(`${API}/create-checkout-session`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ productId, utm })
                });
                
                const data = await res.json();
                if (data.url) {
                    location.href = data.url;
                } else {
                    alert('×©×’×™××” ×‘×™×¦×™×¨×ª ×”×ª×©×œ×•×');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('×©×’×™××” ×‘×™×¦×™×¨×ª ×”×ª×©×œ×•×');
            }
        }

        function renderProducts(productsToRender) {
            const grid = document.getElementById('productsGrid');
            const count = document.getElementById('productsCount');
            const noResults = document.getElementById('noResults');

            count.textContent = productsToRender.length;

            if (productsToRender.length === 0) {
                grid.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }

            noResults.style.display = 'none';

            grid.innerHTML = productsToRender.map(product => `
                <div class="product-card ${product.isBundle ? 'bundle-card' : ''} ${product.isUltimate ? 'ultimate-bundle' : ''}">
                    ${product.isBundle ? `<div class="bundle-badge">${product.isUltimate ? '×—×‘×™×œ×” ××•×œ×˜×™××˜×™×‘×™×ª' : '×—×‘×™×œ×”'}</div>` : ''}
                    <div class="product-image">
                        <div class="product-icon">${product.icon}</div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-price">â‚ª${product.price}</div>
                        <button class="btn btn-primary" onclick="buyProduct('${product.id}')">×§× ×” ×¢×›×©×™×•</button>
                    </div>
                </div>
            `).join('');
        }

        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const activeCategory = document.querySelector('.filter-btn.active').dataset.category;
            const sortBy = document.getElementById('sortSelect').value;

            // ×¡×™× ×•×Ÿ ×œ×¤×™ ×—×™×¤×•×© ×•×§×˜×’×•×¨×™×”
            filteredProducts = products.filter(product => {
                const matchesSearch = product.name.toLowerCase().includes(searchTerm) || 
                                    product.description.toLowerCase().includes(searchTerm);
                const matchesCategory = activeCategory === 'all' || product.category === activeCategory;
                return matchesSearch && matchesCategory;
            });

            // ××™×•×Ÿ
            switch (sortBy) {
                case 'name':
                    filteredProducts.sort((a, b) => a.name.localeCompare(b.name, 'he'));
                    break;
                case 'price-low':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
            }

            renderProducts(filteredProducts);
        }

        // Event listeners
        document.getElementById('searchInput').addEventListener('input', filterProducts);
        document.getElementById('sortSelect').addEventListener('change', filterProducts);

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                filterProducts();
            });
        });

        // ×˜×¢×™× ×” ×¨××©×•× ×™×ª
        renderProducts(products);
    </script>
</body>
</html>

